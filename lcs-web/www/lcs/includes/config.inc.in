<?
/* =============================================
   Projet LCS : Linux Communication Server
   config.inc.php
   Fichier de configuration de l'authentification
   Paramètres de la base lcs_db
   jLCF <(-_°)/> jean-luc.chretien@tice.ac-caen.fr
   Equipe Tice académie de Caen
   Version du 14/02/2008
   ============================================= */

# Mode DEBUG LCS
#---------------
$DEBUG = false;
$MsgD  = "DEBUG >> ";

# Paramètres MySQL
#----------------------
$HOSTAUTH="localhost";
$USERAUTH="lcsmgr";
$PASSAUTH="@@PASSWORD@@";
$DBAUTH="lcs_db";

# Recuperation des parametres LCS depuis la bdd
# -----------------------------------------------------
$authlink = mysql_connect($HOSTAUTH,$USERAUTH,$PASSAUTH);
@mysql_select_db($DBAUTH) or die("Impossible de se connecter à la base $DBAUTH.");
$result=mysql_query("SELECT * from params where srv_id=0");
if ($result)
while ($r=mysql_fetch_array($result))
$$r["name"]=$r["value"];
else
die ("paramètres absents de la base de donnée");
mysql_free_result($result);
# ------------------------------------------------------

$dn = array();
  $dn["people"] = "$peopleRdn,$ldap_base_dn";
  $dn["groups"] = "$groupsRdn,$ldap_base_dn";
  $dn["rights"] = "$rightsRdn,$ldap_base_dn";
  $dn["trash"]  = "$trashRdn,$ldap_base_dn";
#  $dn["radius"]  = "$radiusRdn,$ldap_base_dn";

$adminDn = $adminRdn.",".$ldap_base_dn;

# Paramètres Admin LCS
$MelAdminLCS="@@MelAdminLCS@@";

# Paramètres Appli
$Nom_Appli = "LCS";

# Paramètres divers
$Pool  = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
$Pool .= "abcdefghijklmnopqrstuvwxyz";
$Pool .= "1234567890";
$SessLen = 20;

$secook= 0;

# Chemins
$basedir="/var/www/";
$basedir_perso="/home/";
if ( @$SERVER_PORT=="443" ) 
    $baseurl=ereg_replace("http","https",$baseurl);
$urlauth=$baseurl."lcs/auth.php";
$imagespath="../images";
$logpath="/var/log/lcs/";
$scriptsbinpath="/usr/share/lcs/sbin";
?>
